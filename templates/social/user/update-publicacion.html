{% extends innercontent %}
{% load static %}
{% load pub_extras %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/detalle-publicacion.css'%} ">
{% endblock css %}

{% block headtitle %}
Needer | {{publicacion.user.username}}
{% endblock headtitle %}

{% block inner-content %}

<!--Contenido de adentro-->
<div class="my-4 pb-3 container-fluid row w-100 mx-0 d-flex justify-content-lg-between justify-content-md-center justify-content-sm-center justify-content-center">
    
    <!--Contenido de la izquierda-->
    <div class="d-flex justify-content-center row container-fluid col-sm-12 col-lg-7 px-0 shadow rounded">

        <!--Icono y titulo-->
        <div class="row border-bottom d-flex">
        <h1 class="text-center text-primary mb-0><a href="{{publicacion.user.get_absolute_url}}"><i class="bi bi-arrow-left text-primary float-start"></i></a>Editar Publicación</h1>
        </div>


        <!--Publicación-->
        <div class="row container-fluid px-0 bg-white d-flex justify-content-around align-items-center mt-2 publicacion">
            <div class="col-12 d-flex align-items-center justify-content-start pt-4">

                <!--Foto del usuario-->
                <div class="col-lg-2 col-md-2 col-3 justify-content-center d-flex pe-0 mb-3">
                    <a href="{{publicacion.user.get_absolute_url}}" class="text-center">
                        {% if publicacion.user.foto %}
                                    
                        <img class="rounded-circle img-fluid profile-img" alt="profile" src="{{publicacion.user.foto.url}}"data-holder-rendered="true">
                    
                        {% else %}
                        <img class="rounded-circle img-fluid profile-img" alt="profile" src="{% static 'img/default-profile.png' %}"data-holder-rendered="true">
                                
                        {% endif %}
                        </a>
                </div>

            <!--Autor-->
            <div class="row col-7 col-md-8 col-lg-8 gap-0 ms-1 d-flex align-items-baseline h-100 mb-auto">
                <h5 class="text-secondary fw-bold mb-0 mb-lg-0 mb-xl-0 mb-md-0 mb-sm-2 mw-100 my-0 py-0">
                    <a href="{{publicacion.user.get_absolute_url}}" class="text-decoration-none text-secondary">
                        
                    {% if publicacion.user.apodo %} {{publicacion.user.apodo}} {% else %} {{publicacion.user.username}} {% endif %}
                    </a> 
                </h5>
                <p class="my-0 text-muted">@{{publicacion.user.username}}</p>
                {% if publicacion|editado %}{{publicacion|editado|safe}}{% endif %}
            </div>
                            
            </div>

            <!--Contenido de la Publicación-->
            <div class="text-decoration-none row container-fluid justify-content-center px-0 bg-white mw-100" style="height:auto;">

            {% if publicacion.descripcion %}
                            
                <div class="w-100 text-break text-decoration-none text-dark row justify-content-center align align-items-start d-flex container px-3">
                {{publicacion.descripcion|safe}}
                </div>

            {% endif %}
            
            {% if publicacion.archivo %}

            <div class="row justify-content-center w-100 container px-3 rounded">
                {{publicacion.archivo|tipo_archivo|safe}}
            </div>
                        
            {% endif %}

            <button class="col-12 mt-3 mb-1 file-route d-none bg-transparent btn rounded-pill mw-100 border-0" id="cancelar-archivo"><i class="bi bi-x-circle-fill me-2 cancelar-archivo text-danger" style="cursor:pointer;" ></i></button>
            <!--Botones-->
            <div class="d-inline-flex mt-2 col-12 justify-content-xl-end justify-content-lg-end justify-content-md-end justify-content-sm-end justify-content-end above-file px-3 mb-2">
               
                <label class="btn btn-primary btn-sm rounded-pill me-2 px-2 border-0 nsfw mx-2" id="nsfw">
                    <h5 class="align-middle d-flex align-items-center mb-0 py-1 fw-bold">   
                        {{form.nsfw}}
                    <i class="bi bi-plus-lg ms-2" id="nsfw-icon"></i>&nbsp;&nbsp;<strong class="me-2">NSFW</strong>
                    </h5>
                </label>

                <div class="mx-2">
                    <button type="button" class="btn btn-primary">Cancelar</button>
                </div>

                <div class="mx-2">
                    <button type="button" class="btn btn-primary">Editar</button>
                </div>

            </div>          

        </div>

        

    </div>


    
</div>

    <!--Reglas de la comunidad-->
    <div class="row col-sm-12 col-lg-5  mb-4 mb-sm-5 mb-lg-0 mb-md-5 mb-xs-5 divbib">

        <div class="row rounded shadow bg-white py-3 mb-3">
            <div class="d-inline-flex align-items-center border-bottom"> 
                <img class="img-fluid me-2" width="15px" src="{% static 'img/Needer_logo.svg' %}"> <h4 class="fw-bold">Reglas de Needer</h4>
                
            </div>
            <div class="row col-12">
                <h6 class="fw-bold mt-md-3">1. Se respetuoso con los demas</h6>
                <hr>
                <h6 class="fw-bold">2. Goza conociendo tus limites</h6>
                <hr>
                <h6 class="fw-bold">3. Si tomas contenido de otras personas, dales el credito</h6>
                <hr>
                <h6 class="fw-bold">5. Lee las reglas de la comunidad</h6>
                
            
            </div>
        </div>

        <div class="row py-3 rounded bg-white shadow">
            <small>Por favor, ten en cuenta la <a class="text-secondary" href="#">política de contenido de Needer</a> y no te olvides de disfrutar.</small>
            <small class="fw-light mt-2 text-secondary">Needer Ltd © 2022. Todos los derechos reservados.</small>
        </div>

        <div class="row p-0 rounded mt-3">
            <button type="button" class="btn btn-primary">Eliminar Publicación</button>
        </div>


        
        
    </div>


</div>

{% endblock %}

{% block script %}
{% endblock script %}